{"mappings":"AAYA,MAAMA,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,aAChCE,EAAgBH,SAASC,cAAc,aACvCG,EAAQJ,SAASC,cAAc,YAC/BI,EAAOL,SAASC,cAAc,SAC9BK,EAAWN,SAASC,cAAc,eAClCM,EAAcP,SAASC,cAAc,SAI3C,IAAIO,EAAc,EAGlB,MAaMC,EAAgBC,IACpBA,EAAEC,iBACF,MAAMC,EANM,yFAFKV,EAAOW,6BACPV,EAAcU,cACkFL,IAOjHM,MAAMF,GACHG,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,IAEU,WAAXR,EAAES,MApBK,EAACD,EAAME,KACtBhB,EAAMiB,YAAc,mBAACH,aAAoC,EAAAA,EAAJI,qBAClCjB,EAAdkB,UAAY,GACjBjB,EAASe,YAAc,qBAACG,KAAAC,MAAAP,aAA6C,EAAIA,EAAcI,cAAZF,cAAe,EAkBpFM,CAASR,EAAME,UAGjBO,EAAcT,EAAKU,UACnBpB,GAAe,EACXA,EAAcgB,KAAKC,MAAKP,aAAA,EAAAA,EAAMI,cAAeF,WAC/Cb,EAAYsB,UAAUC,IAAI,OAAO,IAGpCC,OAAOC,IACNC,QAAQC,IAAI,QAASF,EAAM,GAC3B,E,IAWCG,EAPPpC,EAAKqC,iBAAiB,SAAU3B,GAChCF,EAAY6B,iBAAiB,QAAS3B,GAEtC,MASM4B,EAAmBC,GAAWA,EAAQA,EAAMC,QAAO,CAACC,EAAKC,IAASD,EATjD,CAACC,GAAS,SAC/BA,EAAKC,WAAa,aAAaD,EAAKC,oBAAoBD,EAAKE,gBAAkB,aACzEF,EAAKG,oBACNH,EAAKE,YAAcF,EAAKE,YAAc,gBAC3B,QAAXR,EAAAM,EAAKI,cAAM,IAAXV,IAAe,sBACTM,EAAK7B,oDAI4DkC,CAAeL,IAAO,IAAM,GAEpGd,EAAiBW,IACrB,MAAMS,EAASV,EAAgBC,GAC/BjC,EAAK2C,mBAAmB,YAAaD,EAAO","sources":["src/js/10.js"],"sourcesContent":["// const KEY = \"fe54e78640174c269f1b558d40009301\";\n// fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${KEY}`)\n//   .then((response) => response.json())\n//   .then((data) => {\n//     console.log(data);\n//   })\n//   .catch((error) => {\n//     console.log(error);\n//   });\n// 1) Base URL\n// 2) resource\n// 3) params\nconst form = document.querySelector(\".form\");\nconst select = document.querySelector(\".category\");\nconst pageSizeInput = document.querySelector(\".pageSize\");\nconst title = document.querySelector(\".counter\");\nconst list = document.querySelector(\".list\");\nconst subTitle = document.querySelector(\".totalPages\");\nconst loadMoreBtn = document.querySelector(\".load\");\n\nconst KEY = \"fe54e78640174c269f1b558d40009301\";\nconst BASE_URL = \"https://newsapi.org/v2\";\nlet currentPage = 1;\n// const URL = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=sports&country=ua&pageSize=10`;\n\nconst updateUi = (data, pageSize) => {\n  title.textContent = `Всього знайдено ${data?.totalResults} новин`;\n  list.innerHTML = \"\";\n  subTitle.textContent = `Знайдено новин на ${Math.ceil(data?.totalResults / pageSize)} сторінках`;\n};\n\nconst createUrl = () => {\n  const category = select.value;\n  const pageSize = pageSizeInput.value;\n  const url = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=${category}&country=ua&pageSize=${pageSize}&page=${currentPage}`;\n  return url;\n};\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  const url = createUrl();\n  fetch(url)\n    .then((response) => response.json())\n    .then((data) => {\n      // console.log(\"data\", data);\n      if (e.type === \"submit\") {\n        updateUi(data, pageSize);\n      }\n\n      insertContent(data.articles);\n      currentPage += 1;\n      if (currentPage > Math.ceil(data?.totalResults / pageSize)) {\n        loadMoreBtn.classList.add(\"hide\");\n      }\n    })\n    .catch((error) => {\n      console.log(\"error\", error);\n    });\n  // .finally(() => {});\n};\n\nform.addEventListener(\"submit\", handleSubmit);\nloadMoreBtn.addEventListener(\"click\", handleSubmit);\n\nconst createListItem = (item) => `<li>\n${item.urlToImage ? `<img src=\"${item.urlToImage}\" alt=\"${item.description}\">` : \"\"}\n  <h2>${item.title}</h2>\n  <p>${item.description ? item.description : \"\"}</p>\n  <p>${item.author ?? \"\"}</p>\n  <a href=\"${item.url}\" target=\"_blank\">Перейти до статті</a>\n</li>`;\n\n// const generateContent = (array) => array?.reduce((acc, item) => acc + createListItem(item), \"\");\nconst generateContent = (array) => (array ? array.reduce((acc, item) => acc + createListItem(item), \"\") : \"\");\n\nconst insertContent = (array) => {\n  const result = generateContent(array);\n  list.insertAdjacentHTML(\"beforeend\", result);\n};"],"names":["$48e5cd3859e889bb$var$form","document","querySelector","$48e5cd3859e889bb$var$select","$48e5cd3859e889bb$var$pageSizeInput","$48e5cd3859e889bb$var$title","$48e5cd3859e889bb$var$list","$48e5cd3859e889bb$var$subTitle","$48e5cd3859e889bb$var$loadMoreBtn","$48e5cd3859e889bb$var$currentPage","$48e5cd3859e889bb$var$handleSubmit","e","preventDefault","url","value","fetch","then","response","json","data","type","pageSize","textContent","totalResults","innerHTML","Math","ceil","$48e5cd3859e889bb$var$updateUi","$48e5cd3859e889bb$var$insertContent","articles","classList","add","catch","error","console","log","$48e5cd3859e889bb$var$_author","addEventListener","$48e5cd3859e889bb$var$generateContent","array","reduce","acc","item","urlToImage","description","title","author","$48e5cd3859e889bb$var$createListItem","result","insertAdjacentHTML"],"version":3,"file":"10.ed73e5ea.js.map"}