{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAeC,SAASC,cAAc,kBACtCC,EAAiBF,SAASC,cAAc,sBAE9CF,EAAaI,iBAAiB,UAE9B,SAAqBC,GACnBA,EAAEC,kBA6BeC,EA3BEP,EAAaQ,SAASC,KAAKC,MAAMC,OA4B9CC,EAAM,uCAA6CC,OAANN,GAC5CO,MAAMF,EAAKG,GAASC,MAAK,SAAAC,G,OAAYA,EAASC,M,KA1BlDF,MAAK,SAAAG,G,IA0CFC,EA1CKC,EAAQF,EAARE,SACP,GAAwB,IAApBA,EAASC,OACX,MAAM,IAAIC,MAAM,WAwChBH,EAtCaC,EAsCcG,QAAO,SAACC,EAAKC,GAC5C,OAbmB,SAAHP,G,IAAEQ,EAAFR,EAAEQ,OAAQC,EAAVT,EAAUS,MAAOC,EAAjBV,EAAiBU,YAAaC,EAA9BX,EAA8BW,IAAKC,EAAnCZ,EAAmCY,WACrD,MAAO,+DAEyBlB,OADAkB,EAAW,iDAEVlB,OADDe,EAAM,4CAERf,OADGc,GAAU,WAAW,yCAElBd,OADNgB,EAAY,8CACFhB,OAAJiB,EAAI,4B,CAO/BE,CAAWN,GAAWD,C,GAC5B,IAEHtB,EAAe8B,UAAYb,C,IAvCxBc,OAAM,SAAAC,GACLhC,EAAe8B,UAAY,GAC3BG,EAAAtC,GAASuC,OAAOC,QAAQ,eAAgB,qBAAsB,MAC9DC,QAAQJ,MAAMA,E,IAEfK,SAAQ,WACPxC,EAAayC,O,IAWnB,IAAmBlC,EACXK,C,IAPgC,IAAlCG,EAAU,CACd2B,QAAS,CACP,YAAa,oC","sources":["src/js/09-seach-news.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst seachFormRef = document.querySelector('.js-seach-form');\nconst newsWrapperRef = document.querySelector('.js-news-container');\n\nseachFormRef.addEventListener('submit', onSeachNews);\n\nfunction onSeachNews(e) {\n  e.preventDefault();\n\n  const seachValue = seachFormRef.elements.news.value.trim();\n\n  fetchData(seachValue)\n    .then(({ articles }) => {\n      if (articles.length === 0) {\n        throw new Error('No data');\n      }\n      renderNewsCard(articles);\n      // console.log(articles);\n    })\n    .catch(error => {\n      newsWrapperRef.innerHTML = '';\n      Notiflix.Report.failure('Attention!!!', 'Not found anything', 'Ok');\n      console.error(error);\n    })\n    .finally(() => {\n      seachFormRef.reset();\n    });\n}\n\n// функция принесла и распарсила промис с данными\nconst options = {\n  headers: {\n    'X-Api-Key': 'ea323ce12d5643248c09e504b34a1936',\n  },\n};\n\nfunction fetchData(query) {\n  const URL = `https://newsapi.org/v2/everything?q=${query}`;\n  return fetch(URL, options).then(response => response.json());\n}\n\n// функция создания разметки\nfunction cardMarkup({ author, title, description, url, urlToImage }) {\n  return `<div class=\"article-card\">\n  <img class=\"article-img\" src=\"${urlToImage}\" alt=\"\" />\n      <h3 class=\"article-title\">${title}</h3>\n      <h4 class=\"article-author\">${author || 'Anonymus'}</h4>\n      <p class=\"article-text\">${description}</p>\n      <a class=\"article-link\" href=\"${url}\">Read more</a>\n  </div>`;\n}\n\n// функция рендера страницы\nfunction renderNewsCard(arrayNews) {\n  const listNewsMarkup = arrayNews.reduce((acc, article) => {\n    return cardMarkup(article) + acc;\n  }, '');\n\n  newsWrapperRef.innerHTML = listNewsMarkup;\n}\n"],"names":["$6JpON","parcelRequire","$838cfc6f779bf4a4$var$seachFormRef","document","querySelector","$838cfc6f779bf4a4$var$newsWrapperRef","addEventListener","e","preventDefault","query","elements","news","value","trim","URL","concat","fetch","$838cfc6f779bf4a4$var$options","then","response","json","param","listNewsMarkup","articles","length","Error","reduce","acc","article","author","title","description","url","urlToImage","$838cfc6f779bf4a4$var$cardMarkup","innerHTML","catch","error","$parcel$interopDefault","Report","failure","console","finally","reset","headers"],"version":3,"file":"09-seach-news.dc16602a.js.map"}