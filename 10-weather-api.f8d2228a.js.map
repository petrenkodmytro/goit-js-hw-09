{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAAA,MAkBMC,EAAeC,SAASC,cAAc,kBACtCC,EAAeF,SAASC,cAAc,YAC5CE,QAAQC,IAAIC,EAAAC,EAAA,GAASC,OAAO,SAC5BR,EAAaS,iBAAiB,UAE9B,SAA4BC,GAC1BA,EAAEC,iBACFb,EAAAc,QAAQC,OACR,MAAMC,EAAOJ,EAAEK,cAAcC,SAASF,KAAKG,MAAMC,OAAOC,cAM9B,GAL1Bf,QAAQC,IAAIS,GAEZX,EAAaiB,UAAY,GAGZ,KAATN,EAEF,YADAhB,EAAAuB,OAAOC,KAAK,kCA/BO,CAAAR,GACdS,MACL,qDAAyBT,yDACzBU,MAAKC,IACL,IAAKA,EAASC,GAE2C,MAAjD,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,MAAM,IA0BxBC,CAAehB,GACZU,MAAKO,KAgBV,SAAsBA,GACpB,MAAMC,EAAS,mFAES1B,EAAAC,EAAA,GAASC,OAAO,oCACpBuB,EAAKE,6CACOF,EAAKG,IAAIC,6CACZJ,EAAKK,KAAKC,KAAKC,QACxC,4DAEyBP,EAAKQ,QAAQ,GAAGH,8DAEzCL,EAAKQ,QAAQ,GAAGC,qBACDT,EAAKQ,QAAQ,GAAGE,yJAIVV,EAAKK,KAAKM,SAASJ,QACpC,uHAKiBP,EAAKK,KAAKO,SAASL,QACpC,+PASoBP,EAAKa,OAAOC,sJAIZd,EAAKK,KAAKU,wJAIVf,EAAKK,KAAKW,8IAIVhB,EAAKiB,KAAKC,gEAKtC9C,EAAa+C,mBAAmB,YAAalB,E,CA/DzCmB,CAAapB,EAAK,IAEnBqB,OAAMC,IACLvD,EAAAuB,OAAOiC,QAAQ,yCA+DrB,WACE,MAAMtB,EAAS,sCACf7B,EAAa+C,mBAAmB,YAAalB,E,CAhEzCuB,GACAnD,QAAQC,IAAIgD,EAAM,IAEnBG,SAAQ,KACPxD,EAAayD,QACb3D,EAAAc,QAAQ8C,QAAQ,G","sources":["src/js/10-weather-api.js"],"sourcesContent":["const BASE_URL = 'https://api.openweathermap.org/data/2.5';\n\nconst fetchCountries = city => {\n  return fetch(\n    `${BASE_URL}/weather?q=${city}&appid=e009aff8be670269fac51bd3506bf199&units=metric`\n  ).then(response => {\n    if (!response.ok) {\n      // явно відхиляємо проміс, щоб можна було зловити і обробити помилку\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n\nimport { Notify, Loading } from 'notiflix';\nimport moment from 'moment';\n\nconst seachFormRef = document.querySelector('.js-seach-form');\nconst containerRef = document.querySelector('.weather');\nconsole.log(moment().format('LLLL'));\nseachFormRef.addEventListener('submit', onSearchCitySubmit);\n\nfunction onSearchCitySubmit(e) {\n  e.preventDefault();\n  Loading.dots();\n  const city = e.currentTarget.elements.city.value.trim().toLowerCase();\n  console.log(city);\n\n  containerRef.innerHTML = '';\n\n  // якщо input пустий пошук не виконуємо\n  if (city === '') {\n    Notify.info('Please enter name of the city.');\n    return;\n  }\n\n  fetchCountries(city)\n    .then(data => {\n      // console.log(data);\n      renderMarkup(data);\n    })\n    .catch(error => {\n      Notify.failure('Oops, there is no city with that name');\n      renderError();\n      console.log(error);\n    })\n    .finally(() => {\n      seachFormRef.reset();\n      Loading.remove();\n    });\n}\n\n// https://openweathermap.org/img/wn/02d@2x.png\nfunction renderMarkup(data) {\n  const markup = ` <div class=\"container\">\n  <div class=\"weather-side\">\n    <p class=\"date-day\">${moment().format('LLLL')}</p>\n    <p class=\"city\">${data.name}</p>\n    <p class=\"country\">Country: ${data.sys.country}</p>\n    <h2 class=\"weather-temp\">${data.main.temp.toFixed(\n      1\n    )} C<sup>&#176;</sup></h2>\n    <h3 class=\"weather-desc\">${data.weather[0].main}</h3>\n    <img src=\"https://openweathermap.org/img/wn/${\n      data.weather[0].icon\n    }@2x.png\" alt=\"${data.weather[0].description}\" class=\"weather-icon\"></img>\n    <div class=\"temp-container\">\n      <div>\n        <h4 class=\"title\">min</h4>\n        <h4 class=\"temp\">${data.main.temp_min.toFixed(\n          1\n        )} C<sup>&#176;</sup></h4>\n      </div>\n      <div>\n        <h4 class=\"title\">max</h4>\n        <h4 class=\"temp\">${data.main.temp_max.toFixed(\n          1\n        )} С<sup>&#176;</sup></h4>\n      </div>\n    </div>\n  </div>\n  <div class=\"info-side\">\n    <div class=\"today-info-container\">\n      <div class=\"today-info precipitation\">\n        <span class=\"title\">cloudiness</span>\n        <span class=\"value\">${data.clouds.all} %</span>\n      </div>\n      <div class=\"today-info precipitation\">\n        <span class=\"title\">pressure</span>\n        <span class=\"value\">${data.main.pressure} hPa</span>\n      </div>\n      <div class=\"today-info humidity\">\n        <span class=\"title\">humidity</span>\n        <span class=\"value\">${data.main.humidity} %</span>\n      </div>\n      <div class=\"today-info wind\">\n        <span class=\"title\">wind</span>\n        <span class=\"value\">${data.wind.speed} km/h</span>\n      </div>\n    </div>\n  </div>\n</div>`;\n  containerRef.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction renderError() {\n  const markup = `<h3 class=\"msg\">City not found</h3>`;\n  containerRef.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$7Y9D8","parcelRequire","$de03516676c49c1c$var$seachFormRef","document","querySelector","$de03516676c49c1c$var$containerRef","console","log","$parcel$interopDefault","$cxTnx","format","addEventListener","e","preventDefault","Loading","dots","city","currentTarget","elements","value","trim","toLowerCase","innerHTML","Notify","info","fetch","then","response","ok","Error","status","json","$de03516676c49c1c$var$fetchCountries","data","markup","name","sys","country","main","temp","toFixed","weather","icon","description","temp_min","temp_max","clouds","all","pressure","humidity","wind","speed","insertAdjacentHTML","$de03516676c49c1c$var$renderMarkup","catch","error","failure","$de03516676c49c1c$var$renderError","finally","reset","remove"],"version":3,"file":"10-weather-api.f8d2228a.js.map"}