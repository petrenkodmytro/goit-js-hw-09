{"mappings":"YAYA,IAgEOA,EAhEDC,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,aAChCE,EAAgBH,SAASC,cAAc,aACvCG,EAAQJ,SAASC,cAAc,YAC/BI,EAAOL,SAASC,cAAc,SAC9BK,EAAWN,SAASC,cAAc,eAClCM,EAAcP,SAASC,cAAc,SAIvCO,EAAc,EAkBZC,EAAe,SAAAC,GACnBA,EAAEC,iBAEF,IAAMC,EAAWT,EAAcU,MACzBC,EAXU,SAAAF,GAChB,IAAMG,EAAWb,EAAOW,MAGxB,MADY,GAAoCG,OAfjC,yBAeS,0BAAwCA,OAhBtD,mCAgB0C,cAA4CA,OAAhCD,EAAS,yBAAwCC,OAAjBJ,EAAS,UAAoBI,OAAZR,E,CAQrGS,CAAUL,GACtBM,MAAMJ,GACHK,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GAEW,WAAXZ,EAAEa,MAxBK,SAACD,EAAMV,GACtBR,EAAMoB,YAAc,mBAAoDR,OAAnBM,aAAA,EAAAA,EAAMG,aAAa,UACrDpB,EAAdqB,UAAY,GACjBpB,EAASkB,YAAc,qBAENR,OAF0CW,KAAKC,MAC9DN,aAAA,EAAAA,EAAMG,cAAeb,GACrB,a,CAoBIiB,CAASP,EAAMV,GAGjBkB,EAAcR,EAAKS,WACnBvB,GAAe,GACGmB,KAAKC,MAAKN,aAAA,EAAAA,EAAMG,cAAeb,IAC/CL,EAAYyB,UAAUC,IAAI,O,IAG7BC,OAAM,SAAAC,GACLC,QAAQC,IAAI,QAASF,E,KAK3BpC,EAAKuC,iBAAiB,SAAU7B,GAChCF,EAAY+B,iBAAiB,QAAS7B,GAEtC,IAaM8B,EAAkB,SAAAC,G,OACtBA,EAAQA,EAAMC,QAAO,SAACC,EAAKC,G,OAASD,EAdf,SAAAC,G,MAAQ,SAMvB3B,OAJN2B,EAAKC,WACD,aAAsC5B,OAAzB2B,EAAKC,WAAW,WAA0B5B,OAAjB2B,EAAKE,YAAY,MACvD,GACL,YAEM7B,OADC2B,EAAKG,MAAM,gBAEZ9B,OADA2B,EAAKE,YAAcF,EAAKE,YAAc,GAAG,eAEnC7B,OADK,QAAXlB,EAAA6C,EAAKI,cAAM,IAAXjD,IAAe,GAAG,qBACHkB,OAAT2B,EAAK7B,IAAI,iD,CAKsBkC,CAAeL,E,GAAO,IAAM,E,EAElEb,EAAgB,SAAAU,GACpB,IAAMS,EAASV,EAAgBC,GAC/BnC,EAAK6C,mBAAmB,YAAaD,E","sources":["src/js/10.js"],"sourcesContent":["// const KEY = \"fe54e78640174c269f1b558d40009301\";\n// fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${KEY}`)\n//   .then((response) => response.json())\n//   .then((data) => {\n//     console.log(data);\n//   })\n//   .catch((error) => {\n//     console.log(error);\n//   });\n// 1) Base URL\n// 2) resource\n// 3) params\nconst form = document.querySelector('.form');\nconst select = document.querySelector('.category');\nconst pageSizeInput = document.querySelector('.pageSize');\nconst title = document.querySelector('.counter');\nconst list = document.querySelector('.list');\nconst subTitle = document.querySelector('.totalPages');\nconst loadMoreBtn = document.querySelector('.load');\n\nconst KEY = 'fe54e78640174c269f1b558d40009301';\nconst BASE_URL = 'https://newsapi.org/v2';\nlet currentPage = 1;\n// const URL = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=sports&country=ua&pageSize=10`;\n\nconst updateUi = (data, pageSize) => {\n  title.textContent = `Всього знайдено ${data?.totalResults} новин`;\n  list.innerHTML = '';\n  subTitle.textContent = `Знайдено новин на ${Math.ceil(\n    data?.totalResults / pageSize\n  )} сторінках`;\n};\n\nconst createUrl = pageSize => {\n  const category = select.value;\n  //  const pageSize = pageSizeInput.value;\n  const url = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=${category}&country=ua&pageSize=${pageSize}&page=${currentPage}`;\n  return url;\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  //\n  const pageSize = pageSizeInput.value;\n  const url = createUrl(pageSize);\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      // console.log(\"data\", data);\n      if (e.type === 'submit') {\n        updateUi(data, pageSize);\n      }\n\n      insertContent(data.articles);\n      currentPage += 1;\n      if (currentPage > Math.ceil(data?.totalResults / pageSize)) {\n        loadMoreBtn.classList.add('hide');\n      }\n    })\n    .catch(error => {\n      console.log('error', error);\n    });\n  // .finally(() => {});\n};\n\nform.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleSubmit);\n\nconst createListItem = item => `<li>\n${\n  item.urlToImage\n    ? `<img src=\"${item.urlToImage}\" alt=\"${item.description}\">`\n    : ''\n}\n  <h2>${item.title}</h2>\n  <p>${item.description ? item.description : ''}</p>\n  <p>${item.author ?? ''}</p>\n  <a href=\"${item.url}\" target=\"_blank\">Перейти до статті</a>\n</li>`;\n\n// const generateContent = (array) => array?.reduce((acc, item) => acc + createListItem(item), \"\");\nconst generateContent = array =>\n  array ? array.reduce((acc, item) => acc + createListItem(item), '') : '';\n\nconst insertContent = array => {\n  const result = generateContent(array);\n  list.insertAdjacentHTML('beforeend', result);\n};\n"],"names":["$9d1cbc4494eb7cbd$var$_author","$9d1cbc4494eb7cbd$var$form","document","querySelector","$9d1cbc4494eb7cbd$var$select","$9d1cbc4494eb7cbd$var$pageSizeInput","$9d1cbc4494eb7cbd$var$title","$9d1cbc4494eb7cbd$var$list","$9d1cbc4494eb7cbd$var$subTitle","$9d1cbc4494eb7cbd$var$loadMoreBtn","$9d1cbc4494eb7cbd$var$currentPage","$9d1cbc4494eb7cbd$var$handleSubmit","e","preventDefault","pageSize","value","url","category","concat","$9d1cbc4494eb7cbd$var$createUrl","fetch","then","response","json","data","type","textContent","totalResults","innerHTML","Math","ceil","$9d1cbc4494eb7cbd$var$updateUi","$9d1cbc4494eb7cbd$var$insertContent","articles","classList","add","catch","error","console","log","addEventListener","$9d1cbc4494eb7cbd$var$generateContent","array","reduce","acc","item","urlToImage","description","title","author","$9d1cbc4494eb7cbd$var$createListItem","result","insertAdjacentHTML"],"version":3,"file":"10.2e05c390.js.map"}