{"mappings":"AACOA,MACL,mFAECC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJC,QAAQC,IAAI,OAAQF,EAAK,IAe7B,MAAMG,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,aAChCE,EAAgBH,SAASC,cAAc,aACvCG,EAAQJ,SAASC,cAAc,YAC/BI,EAAOL,SAASC,cAAc,SAC9BK,EAAWN,SAASC,cAAc,eAClCM,EAAcP,SAASC,cAAc,SAI3C,IAAIO,EAAc,EAGlB,MAeMC,EAAeC,IACnBA,EAAEC,iBAEF,MAAMC,EAAWT,EAAcU,MACzBC,EAXU,CAAAF,GAGJ,yFAFKV,EAAOW,6BAEwED,UAAiBJ,IAQrGO,CAAUH,GACtBpB,MAAMsB,GACHrB,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IAEW,WAAXc,EAAEM,MAxBK,EAACpB,EAAMgB,KACtBR,EAAMa,YAAc,mBAACrB,aAAoC,EAAAA,EAAJsB,qBAClCb,EAAdc,UAAY,GACjBb,EAASW,YAAc,qBAACG,KAAAC,MAAAzB,aACtB,EAAIA,EAAcsB,cAAZN,cAAe,EAqBjBU,CAAS1B,EAAMgB,GAGjBW,EAAc3B,EAAK4B,UACnBhB,GAAe,EACXA,EAAcY,KAAKC,MAAKzB,aAAA,EAAAA,EAAMsB,cAAeN,IAC/CL,EAAYkB,UAAUC,IAAI,OAAO,IAGpCC,OAAMC,IACL/B,QAAQC,IAAI,QAAS8B,EAAM,GAC3B,E,IAeCC,EAXP9B,EAAK+B,iBAAiB,SAAUrB,GAChCF,EAAYuB,iBAAiB,QAASrB,GAEtC,MAaMsB,EAAkBC,GACtBA,EAAQA,EAAMC,QAAO,CAACC,EAAKC,IAASD,EAdf,CAAAC,GAAQ,SAE7BA,EAAKC,WACD,aAAaD,EAAKC,oBAAoBD,EAAKE,gBAC3C,aAEEF,EAAKG,oBACNH,EAAKE,YAAcF,EAAKE,YAAc,gBAC3B,QAAXR,EAAAM,EAAKI,cAAM,IAAXV,IAAe,sBACTM,EAAKrB,oDAK0B0B,CAAeL,IAAO,IAAM,GAElEZ,EAAgBS,IACpB,MAAMS,EAASV,EAAgBC,GAC/B3B,EAAKqC,mBAAmB,YAAaD,EAAO","sources":["src/js/10.js"],"sourcesContent":["//newsapi.org/v2/everything?q=cat&apiKey=ea323ce12d5643248c09e504b34a1936\nhttps: fetch(\n  'https://newsapi.org/v2/everything?q=cat&apiKey=ea323ce12d5643248c09e504b34a1936'\n)\n  .then(response => response.json())\n  .then(data => {\n    console.log('data', data);\n  });\n\n// const KEY = \"fe54e78640174c269f1b558d40009301\";\n// fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${KEY}`)\n//   .then((response) => response.json())\n//   .then((data) => {\n//     console.log(data);\n//   })\n//   .catch((error) => {\n//     console.log(error);\n//   });\n// 1) Base URL\n// 2) resource\n// 3) params\nconst form = document.querySelector('.form');\nconst select = document.querySelector('.category');\nconst pageSizeInput = document.querySelector('.pageSize');\nconst title = document.querySelector('.counter');\nconst list = document.querySelector('.list');\nconst subTitle = document.querySelector('.totalPages');\nconst loadMoreBtn = document.querySelector('.load');\n\nconst KEY = 'fe54e78640174c269f1b558d40009301';\nconst BASE_URL = 'https://newsapi.org/v2';\nlet currentPage = 1;\n// const URL = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=sports&country=ua&pageSize=10`;\n\nconst updateUi = (data, pageSize) => {\n  title.textContent = `Всього знайдено ${data?.totalResults} новин`;\n  list.innerHTML = '';\n  subTitle.textContent = `Знайдено новин на ${Math.ceil(\n    data?.totalResults / pageSize\n  )} сторінках`;\n};\n\nconst createUrl = pageSize => {\n  const category = select.value;\n  //  const pageSize = pageSizeInput.value;\n  const url = `${BASE_URL}/top-headlines?apiKey=${KEY}&category=${category}&country=ua&pageSize=${pageSize}&page=${currentPage}`;\n  return url;\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  //\n  const pageSize = pageSizeInput.value;\n  const url = createUrl(pageSize);\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      // console.log(\"data\", data);\n      if (e.type === 'submit') {\n        updateUi(data, pageSize);\n      }\n\n      insertContent(data.articles);\n      currentPage += 1;\n      if (currentPage > Math.ceil(data?.totalResults / pageSize)) {\n        loadMoreBtn.classList.add('hide');\n      }\n    })\n    .catch(error => {\n      console.log('error', error);\n    });\n  // .finally(() => {});\n};\n\nform.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleSubmit);\n\nconst createListItem = item => `<li>\n${\n  item.urlToImage\n    ? `<img src=\"${item.urlToImage}\" alt=\"${item.description}\">`\n    : ''\n}\n  <h2>${item.title}</h2>\n  <p>${item.description ? item.description : ''}</p>\n  <p>${item.author ?? ''}</p>\n  <a href=\"${item.url}\" target=\"_blank\">Перейти до статті</a>\n</li>`;\n\n// const generateContent = (array) => array?.reduce((acc, item) => acc + createListItem(item), \"\");\nconst generateContent = array =>\n  array ? array.reduce((acc, item) => acc + createListItem(item), '') : '';\n\nconst insertContent = array => {\n  const result = generateContent(array);\n  list.insertAdjacentHTML('beforeend', result);\n};\n"],"names":["fetch","then","response","json","data","console","log","$48e5cd3859e889bb$var$form","document","querySelector","$48e5cd3859e889bb$var$select","$48e5cd3859e889bb$var$pageSizeInput","$48e5cd3859e889bb$var$title","$48e5cd3859e889bb$var$list","$48e5cd3859e889bb$var$subTitle","$48e5cd3859e889bb$var$loadMoreBtn","$48e5cd3859e889bb$var$currentPage","$48e5cd3859e889bb$var$handleSubmit","e","preventDefault","pageSize","value","url","$48e5cd3859e889bb$var$createUrl","type","textContent","totalResults","innerHTML","Math","ceil","$48e5cd3859e889bb$var$updateUi","$48e5cd3859e889bb$var$insertContent","articles","classList","add","catch","error","$48e5cd3859e889bb$var$_author","addEventListener","$48e5cd3859e889bb$var$generateContent","array","reduce","acc","item","urlToImage","description","title","author","$48e5cd3859e889bb$var$createListItem","result","insertAdjacentHTML"],"version":3,"file":"10.4c5e2cac.js.map"}